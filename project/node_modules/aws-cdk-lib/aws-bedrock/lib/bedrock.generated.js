"use strict";var _a,_b,_c,_d;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnKnowledgeBase=exports.CfnDataSource=exports.CfnAgentAlias=exports.CfnAgent=void 0;var jsiiDeprecationWarnings=()=>{var tmp=require("../../.warnings.jsii.js");return jsiiDeprecationWarnings=()=>tmp,tmp};const JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti");var cdk=()=>{var tmp=require("../../core");return cdk=()=>tmp,tmp},cfn_parse=()=>{var tmp=require("../../core/lib/helpers-internal");return cfn_parse=()=>tmp,tmp};class CfnAgent extends cdk().CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnAgentPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnAgent(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnAgent.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_bedrock_CfnAgentProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnAgent),error}cdk().requireProperty(props,"agentName",this),this.attrAgentArn=cdk().Token.asString(this.getAtt("AgentArn",cdk().ResolutionTypeHint.STRING)),this.attrAgentId=cdk().Token.asString(this.getAtt("AgentId",cdk().ResolutionTypeHint.STRING)),this.attrAgentStatus=cdk().Token.asString(this.getAtt("AgentStatus",cdk().ResolutionTypeHint.STRING)),this.attrAgentVersion=cdk().Token.asString(this.getAtt("AgentVersion",cdk().ResolutionTypeHint.STRING)),this.attrCreatedAt=cdk().Token.asString(this.getAtt("CreatedAt",cdk().ResolutionTypeHint.STRING)),this.attrFailureReasons=cdk().Token.asList(this.getAtt("FailureReasons",cdk().ResolutionTypeHint.STRING_LIST)),this.attrPreparedAt=cdk().Token.asString(this.getAtt("PreparedAt",cdk().ResolutionTypeHint.STRING)),this.attrRecommendedActions=cdk().Token.asList(this.getAtt("RecommendedActions",cdk().ResolutionTypeHint.STRING_LIST)),this.attrUpdatedAt=cdk().Token.asString(this.getAtt("UpdatedAt",cdk().ResolutionTypeHint.STRING)),this.actionGroups=props.actionGroups,this.agentName=props.agentName,this.agentResourceRoleArn=props.agentResourceRoleArn,this.autoPrepare=props.autoPrepare,this.cdkTagManager=new(cdk()).TagManager(cdk().TagType.MAP,"AWS::Bedrock::Agent",void 0,{tagPropertyName:"tags"}),this.customerEncryptionKeyArn=props.customerEncryptionKeyArn,this.description=props.description,this.foundationModel=props.foundationModel,this.idleSessionTtlInSeconds=props.idleSessionTtlInSeconds,this.instruction=props.instruction,this.knowledgeBases=props.knowledgeBases,this.promptOverrideConfiguration=props.promptOverrideConfiguration,this.skipResourceInUseCheckOnDelete=props.skipResourceInUseCheckOnDelete,this.tags=props.tags}get cfnProperties(){return{actionGroups:this.actionGroups,agentName:this.agentName,agentResourceRoleArn:this.agentResourceRoleArn,autoPrepare:this.autoPrepare,tags:this.cdkTagManager.renderTags(this.tags),customerEncryptionKeyArn:this.customerEncryptionKeyArn,description:this.description,foundationModel:this.foundationModel,idleSessionTtlInSeconds:this.idleSessionTtlInSeconds,instruction:this.instruction,knowledgeBases:this.knowledgeBases,promptOverrideConfiguration:this.promptOverrideConfiguration,skipResourceInUseCheckOnDelete:this.skipResourceInUseCheckOnDelete}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnAgent.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnAgentPropsToCloudFormation(props)}}exports.CfnAgent=CfnAgent,_a=JSII_RTTI_SYMBOL_1,CfnAgent[_a]={fqn:"aws-cdk-lib.aws_bedrock.CfnAgent",version:"2.139.0"},CfnAgent.CFN_RESOURCE_TYPE_NAME="AWS::Bedrock::Agent";function CfnAgentActionGroupExecutorPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("lambda",cdk().requiredValidator)(properties.lambda)),errors.collect(cdk().propertyValidator("lambda",cdk().validateString)(properties.lambda)),errors.wrap('supplied properties not correct for "ActionGroupExecutorProperty"')}function convertCfnAgentActionGroupExecutorPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentActionGroupExecutorPropertyValidator(properties).assertSuccess(),{Lambda:cdk().stringToCloudFormation(properties.lambda)}):properties}function CfnAgentActionGroupExecutorPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("lambda","Lambda",properties.Lambda!=null?cfn_parse().FromCloudFormation.getString(properties.Lambda):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentS3IdentifierPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("s3BucketName",cdk().validateString)(properties.s3BucketName)),errors.collect(cdk().propertyValidator("s3ObjectKey",cdk().validateString)(properties.s3ObjectKey)),errors.wrap('supplied properties not correct for "S3IdentifierProperty"')}function convertCfnAgentS3IdentifierPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentS3IdentifierPropertyValidator(properties).assertSuccess(),{S3BucketName:cdk().stringToCloudFormation(properties.s3BucketName),S3ObjectKey:cdk().stringToCloudFormation(properties.s3ObjectKey)}):properties}function CfnAgentS3IdentifierPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("s3BucketName","S3BucketName",properties.S3BucketName!=null?cfn_parse().FromCloudFormation.getString(properties.S3BucketName):void 0),ret.addPropertyResult("s3ObjectKey","S3ObjectKey",properties.S3ObjectKey!=null?cfn_parse().FromCloudFormation.getString(properties.S3ObjectKey):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentAPISchemaPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("payload",cdk().validateString)(properties.payload)),errors.collect(cdk().propertyValidator("s3",CfnAgentS3IdentifierPropertyValidator)(properties.s3)),errors.wrap('supplied properties not correct for "APISchemaProperty"')}function convertCfnAgentAPISchemaPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAPISchemaPropertyValidator(properties).assertSuccess(),{Payload:cdk().stringToCloudFormation(properties.payload),S3:convertCfnAgentS3IdentifierPropertyToCloudFormation(properties.s3)}):properties}function CfnAgentAPISchemaPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("payload","Payload",properties.Payload!=null?cfn_parse().FromCloudFormation.getString(properties.Payload):void 0),ret.addPropertyResult("s3","S3",properties.S3!=null?CfnAgentS3IdentifierPropertyFromCloudFormation(properties.S3):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentAgentActionGroupPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("actionGroupExecutor",CfnAgentActionGroupExecutorPropertyValidator)(properties.actionGroupExecutor)),errors.collect(cdk().propertyValidator("actionGroupName",cdk().requiredValidator)(properties.actionGroupName)),errors.collect(cdk().propertyValidator("actionGroupName",cdk().validateString)(properties.actionGroupName)),errors.collect(cdk().propertyValidator("actionGroupState",cdk().validateString)(properties.actionGroupState)),errors.collect(cdk().propertyValidator("apiSchema",CfnAgentAPISchemaPropertyValidator)(properties.apiSchema)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("parentActionGroupSignature",cdk().validateString)(properties.parentActionGroupSignature)),errors.collect(cdk().propertyValidator("skipResourceInUseCheckOnDelete",cdk().validateBoolean)(properties.skipResourceInUseCheckOnDelete)),errors.wrap('supplied properties not correct for "AgentActionGroupProperty"')}function convertCfnAgentAgentActionGroupPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAgentActionGroupPropertyValidator(properties).assertSuccess(),{ActionGroupExecutor:convertCfnAgentActionGroupExecutorPropertyToCloudFormation(properties.actionGroupExecutor),ActionGroupName:cdk().stringToCloudFormation(properties.actionGroupName),ActionGroupState:cdk().stringToCloudFormation(properties.actionGroupState),ApiSchema:convertCfnAgentAPISchemaPropertyToCloudFormation(properties.apiSchema),Description:cdk().stringToCloudFormation(properties.description),ParentActionGroupSignature:cdk().stringToCloudFormation(properties.parentActionGroupSignature),SkipResourceInUseCheckOnDelete:cdk().booleanToCloudFormation(properties.skipResourceInUseCheckOnDelete)}):properties}function CfnAgentAgentActionGroupPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("actionGroupExecutor","ActionGroupExecutor",properties.ActionGroupExecutor!=null?CfnAgentActionGroupExecutorPropertyFromCloudFormation(properties.ActionGroupExecutor):void 0),ret.addPropertyResult("actionGroupName","ActionGroupName",properties.ActionGroupName!=null?cfn_parse().FromCloudFormation.getString(properties.ActionGroupName):void 0),ret.addPropertyResult("actionGroupState","ActionGroupState",properties.ActionGroupState!=null?cfn_parse().FromCloudFormation.getString(properties.ActionGroupState):void 0),ret.addPropertyResult("apiSchema","ApiSchema",properties.ApiSchema!=null?CfnAgentAPISchemaPropertyFromCloudFormation(properties.ApiSchema):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("parentActionGroupSignature","ParentActionGroupSignature",properties.ParentActionGroupSignature!=null?cfn_parse().FromCloudFormation.getString(properties.ParentActionGroupSignature):void 0),ret.addPropertyResult("skipResourceInUseCheckOnDelete","SkipResourceInUseCheckOnDelete",properties.SkipResourceInUseCheckOnDelete!=null?cfn_parse().FromCloudFormation.getBoolean(properties.SkipResourceInUseCheckOnDelete):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentAgentKnowledgeBasePropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("description",cdk().requiredValidator)(properties.description)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("knowledgeBaseId",cdk().requiredValidator)(properties.knowledgeBaseId)),errors.collect(cdk().propertyValidator("knowledgeBaseId",cdk().validateString)(properties.knowledgeBaseId)),errors.collect(cdk().propertyValidator("knowledgeBaseState",cdk().validateString)(properties.knowledgeBaseState)),errors.wrap('supplied properties not correct for "AgentKnowledgeBaseProperty"')}function convertCfnAgentAgentKnowledgeBasePropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAgentKnowledgeBasePropertyValidator(properties).assertSuccess(),{Description:cdk().stringToCloudFormation(properties.description),KnowledgeBaseId:cdk().stringToCloudFormation(properties.knowledgeBaseId),KnowledgeBaseState:cdk().stringToCloudFormation(properties.knowledgeBaseState)}):properties}function CfnAgentAgentKnowledgeBasePropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("knowledgeBaseId","KnowledgeBaseId",properties.KnowledgeBaseId!=null?cfn_parse().FromCloudFormation.getString(properties.KnowledgeBaseId):void 0),ret.addPropertyResult("knowledgeBaseState","KnowledgeBaseState",properties.KnowledgeBaseState!=null?cfn_parse().FromCloudFormation.getString(properties.KnowledgeBaseState):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentInferenceConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("maximumLength",cdk().validateNumber)(properties.maximumLength)),errors.collect(cdk().propertyValidator("stopSequences",cdk().listValidator(cdk().validateString))(properties.stopSequences)),errors.collect(cdk().propertyValidator("temperature",cdk().validateNumber)(properties.temperature)),errors.collect(cdk().propertyValidator("topK",cdk().validateNumber)(properties.topK)),errors.collect(cdk().propertyValidator("topP",cdk().validateNumber)(properties.topP)),errors.wrap('supplied properties not correct for "InferenceConfigurationProperty"')}function convertCfnAgentInferenceConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentInferenceConfigurationPropertyValidator(properties).assertSuccess(),{MaximumLength:cdk().numberToCloudFormation(properties.maximumLength),StopSequences:cdk().listMapper(cdk().stringToCloudFormation)(properties.stopSequences),Temperature:cdk().numberToCloudFormation(properties.temperature),TopK:cdk().numberToCloudFormation(properties.topK),TopP:cdk().numberToCloudFormation(properties.topP)}):properties}function CfnAgentInferenceConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("maximumLength","MaximumLength",properties.MaximumLength!=null?cfn_parse().FromCloudFormation.getNumber(properties.MaximumLength):void 0),ret.addPropertyResult("stopSequences","StopSequences",properties.StopSequences!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.StopSequences):void 0),ret.addPropertyResult("temperature","Temperature",properties.Temperature!=null?cfn_parse().FromCloudFormation.getNumber(properties.Temperature):void 0),ret.addPropertyResult("topK","TopK",properties.TopK!=null?cfn_parse().FromCloudFormation.getNumber(properties.TopK):void 0),ret.addPropertyResult("topP","TopP",properties.TopP!=null?cfn_parse().FromCloudFormation.getNumber(properties.TopP):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentPromptConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("basePromptTemplate",cdk().validateString)(properties.basePromptTemplate)),errors.collect(cdk().propertyValidator("inferenceConfiguration",CfnAgentInferenceConfigurationPropertyValidator)(properties.inferenceConfiguration)),errors.collect(cdk().propertyValidator("parserMode",cdk().validateString)(properties.parserMode)),errors.collect(cdk().propertyValidator("promptCreationMode",cdk().validateString)(properties.promptCreationMode)),errors.collect(cdk().propertyValidator("promptState",cdk().validateString)(properties.promptState)),errors.collect(cdk().propertyValidator("promptType",cdk().validateString)(properties.promptType)),errors.wrap('supplied properties not correct for "PromptConfigurationProperty"')}function convertCfnAgentPromptConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentPromptConfigurationPropertyValidator(properties).assertSuccess(),{BasePromptTemplate:cdk().stringToCloudFormation(properties.basePromptTemplate),InferenceConfiguration:convertCfnAgentInferenceConfigurationPropertyToCloudFormation(properties.inferenceConfiguration),ParserMode:cdk().stringToCloudFormation(properties.parserMode),PromptCreationMode:cdk().stringToCloudFormation(properties.promptCreationMode),PromptState:cdk().stringToCloudFormation(properties.promptState),PromptType:cdk().stringToCloudFormation(properties.promptType)}):properties}function CfnAgentPromptConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("basePromptTemplate","BasePromptTemplate",properties.BasePromptTemplate!=null?cfn_parse().FromCloudFormation.getString(properties.BasePromptTemplate):void 0),ret.addPropertyResult("inferenceConfiguration","InferenceConfiguration",properties.InferenceConfiguration!=null?CfnAgentInferenceConfigurationPropertyFromCloudFormation(properties.InferenceConfiguration):void 0),ret.addPropertyResult("parserMode","ParserMode",properties.ParserMode!=null?cfn_parse().FromCloudFormation.getString(properties.ParserMode):void 0),ret.addPropertyResult("promptCreationMode","PromptCreationMode",properties.PromptCreationMode!=null?cfn_parse().FromCloudFormation.getString(properties.PromptCreationMode):void 0),ret.addPropertyResult("promptState","PromptState",properties.PromptState!=null?cfn_parse().FromCloudFormation.getString(properties.PromptState):void 0),ret.addPropertyResult("promptType","PromptType",properties.PromptType!=null?cfn_parse().FromCloudFormation.getString(properties.PromptType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentPromptOverrideConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("overrideLambda",cdk().validateString)(properties.overrideLambda)),errors.collect(cdk().propertyValidator("promptConfigurations",cdk().requiredValidator)(properties.promptConfigurations)),errors.collect(cdk().propertyValidator("promptConfigurations",cdk().listValidator(CfnAgentPromptConfigurationPropertyValidator))(properties.promptConfigurations)),errors.wrap('supplied properties not correct for "PromptOverrideConfigurationProperty"')}function convertCfnAgentPromptOverrideConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentPromptOverrideConfigurationPropertyValidator(properties).assertSuccess(),{OverrideLambda:cdk().stringToCloudFormation(properties.overrideLambda),PromptConfigurations:cdk().listMapper(convertCfnAgentPromptConfigurationPropertyToCloudFormation)(properties.promptConfigurations)}):properties}function CfnAgentPromptOverrideConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("overrideLambda","OverrideLambda",properties.OverrideLambda!=null?cfn_parse().FromCloudFormation.getString(properties.OverrideLambda):void 0),ret.addPropertyResult("promptConfigurations","PromptConfigurations",properties.PromptConfigurations!=null?cfn_parse().FromCloudFormation.getArray(CfnAgentPromptConfigurationPropertyFromCloudFormation)(properties.PromptConfigurations):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("actionGroups",cdk().listValidator(CfnAgentAgentActionGroupPropertyValidator))(properties.actionGroups)),errors.collect(cdk().propertyValidator("agentName",cdk().requiredValidator)(properties.agentName)),errors.collect(cdk().propertyValidator("agentName",cdk().validateString)(properties.agentName)),errors.collect(cdk().propertyValidator("agentResourceRoleArn",cdk().validateString)(properties.agentResourceRoleArn)),errors.collect(cdk().propertyValidator("autoPrepare",cdk().validateBoolean)(properties.autoPrepare)),errors.collect(cdk().propertyValidator("customerEncryptionKeyArn",cdk().validateString)(properties.customerEncryptionKeyArn)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("foundationModel",cdk().validateString)(properties.foundationModel)),errors.collect(cdk().propertyValidator("idleSessionTtlInSeconds",cdk().validateNumber)(properties.idleSessionTtlInSeconds)),errors.collect(cdk().propertyValidator("instruction",cdk().validateString)(properties.instruction)),errors.collect(cdk().propertyValidator("knowledgeBases",cdk().listValidator(CfnAgentAgentKnowledgeBasePropertyValidator))(properties.knowledgeBases)),errors.collect(cdk().propertyValidator("promptOverrideConfiguration",CfnAgentPromptOverrideConfigurationPropertyValidator)(properties.promptOverrideConfiguration)),errors.collect(cdk().propertyValidator("skipResourceInUseCheckOnDelete",cdk().validateBoolean)(properties.skipResourceInUseCheckOnDelete)),errors.collect(cdk().propertyValidator("tags",cdk().hashValidator(cdk().validateString))(properties.tags)),errors.wrap('supplied properties not correct for "CfnAgentProps"')}function convertCfnAgentPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentPropsValidator(properties).assertSuccess(),{ActionGroups:cdk().listMapper(convertCfnAgentAgentActionGroupPropertyToCloudFormation)(properties.actionGroups),AgentName:cdk().stringToCloudFormation(properties.agentName),AgentResourceRoleArn:cdk().stringToCloudFormation(properties.agentResourceRoleArn),AutoPrepare:cdk().booleanToCloudFormation(properties.autoPrepare),CustomerEncryptionKeyArn:cdk().stringToCloudFormation(properties.customerEncryptionKeyArn),Description:cdk().stringToCloudFormation(properties.description),FoundationModel:cdk().stringToCloudFormation(properties.foundationModel),IdleSessionTTLInSeconds:cdk().numberToCloudFormation(properties.idleSessionTtlInSeconds),Instruction:cdk().stringToCloudFormation(properties.instruction),KnowledgeBases:cdk().listMapper(convertCfnAgentAgentKnowledgeBasePropertyToCloudFormation)(properties.knowledgeBases),PromptOverrideConfiguration:convertCfnAgentPromptOverrideConfigurationPropertyToCloudFormation(properties.promptOverrideConfiguration),SkipResourceInUseCheckOnDelete:cdk().booleanToCloudFormation(properties.skipResourceInUseCheckOnDelete),Tags:cdk().hashMapper(cdk().stringToCloudFormation)(properties.tags)}):properties}function CfnAgentPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("actionGroups","ActionGroups",properties.ActionGroups!=null?cfn_parse().FromCloudFormation.getArray(CfnAgentAgentActionGroupPropertyFromCloudFormation)(properties.ActionGroups):void 0),ret.addPropertyResult("agentName","AgentName",properties.AgentName!=null?cfn_parse().FromCloudFormation.getString(properties.AgentName):void 0),ret.addPropertyResult("agentResourceRoleArn","AgentResourceRoleArn",properties.AgentResourceRoleArn!=null?cfn_parse().FromCloudFormation.getString(properties.AgentResourceRoleArn):void 0),ret.addPropertyResult("autoPrepare","AutoPrepare",properties.AutoPrepare!=null?cfn_parse().FromCloudFormation.getBoolean(properties.AutoPrepare):void 0),ret.addPropertyResult("customerEncryptionKeyArn","CustomerEncryptionKeyArn",properties.CustomerEncryptionKeyArn!=null?cfn_parse().FromCloudFormation.getString(properties.CustomerEncryptionKeyArn):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("foundationModel","FoundationModel",properties.FoundationModel!=null?cfn_parse().FromCloudFormation.getString(properties.FoundationModel):void 0),ret.addPropertyResult("idleSessionTtlInSeconds","IdleSessionTTLInSeconds",properties.IdleSessionTTLInSeconds!=null?cfn_parse().FromCloudFormation.getNumber(properties.IdleSessionTTLInSeconds):void 0),ret.addPropertyResult("instruction","Instruction",properties.Instruction!=null?cfn_parse().FromCloudFormation.getString(properties.Instruction):void 0),ret.addPropertyResult("knowledgeBases","KnowledgeBases",properties.KnowledgeBases!=null?cfn_parse().FromCloudFormation.getArray(CfnAgentAgentKnowledgeBasePropertyFromCloudFormation)(properties.KnowledgeBases):void 0),ret.addPropertyResult("promptOverrideConfiguration","PromptOverrideConfiguration",properties.PromptOverrideConfiguration!=null?CfnAgentPromptOverrideConfigurationPropertyFromCloudFormation(properties.PromptOverrideConfiguration):void 0),ret.addPropertyResult("skipResourceInUseCheckOnDelete","SkipResourceInUseCheckOnDelete",properties.SkipResourceInUseCheckOnDelete!=null?cfn_parse().FromCloudFormation.getBoolean(properties.SkipResourceInUseCheckOnDelete):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse().FromCloudFormation.getMap(cfn_parse().FromCloudFormation.getString)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnAgentAlias extends cdk().CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnAgentAliasPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnAgentAlias(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnAgentAlias.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_bedrock_CfnAgentAliasProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnAgentAlias),error}cdk().requireProperty(props,"agentAliasName",this),cdk().requireProperty(props,"agentId",this),this.attrAgentAliasArn=cdk().Token.asString(this.getAtt("AgentAliasArn",cdk().ResolutionTypeHint.STRING)),this.attrAgentAliasHistoryEvents=this.getAtt("AgentAliasHistoryEvents"),this.attrAgentAliasId=cdk().Token.asString(this.getAtt("AgentAliasId",cdk().ResolutionTypeHint.STRING)),this.attrAgentAliasStatus=cdk().Token.asString(this.getAtt("AgentAliasStatus",cdk().ResolutionTypeHint.STRING)),this.attrCreatedAt=cdk().Token.asString(this.getAtt("CreatedAt",cdk().ResolutionTypeHint.STRING)),this.attrUpdatedAt=cdk().Token.asString(this.getAtt("UpdatedAt",cdk().ResolutionTypeHint.STRING)),this.agentAliasName=props.agentAliasName,this.agentId=props.agentId,this.cdkTagManager=new(cdk()).TagManager(cdk().TagType.MAP,"AWS::Bedrock::AgentAlias",void 0,{tagPropertyName:"tags"}),this.description=props.description,this.routingConfiguration=props.routingConfiguration,this.tags=props.tags}get cfnProperties(){return{agentAliasName:this.agentAliasName,agentId:this.agentId,tags:this.cdkTagManager.renderTags(this.tags),description:this.description,routingConfiguration:this.routingConfiguration}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnAgentAlias.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnAgentAliasPropsToCloudFormation(props)}}exports.CfnAgentAlias=CfnAgentAlias,_b=JSII_RTTI_SYMBOL_1,CfnAgentAlias[_b]={fqn:"aws-cdk-lib.aws_bedrock.CfnAgentAlias",version:"2.139.0"},CfnAgentAlias.CFN_RESOURCE_TYPE_NAME="AWS::Bedrock::AgentAlias";function CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("agentVersion",cdk().requiredValidator)(properties.agentVersion)),errors.collect(cdk().propertyValidator("agentVersion",cdk().validateString)(properties.agentVersion)),errors.wrap('supplied properties not correct for "AgentAliasRoutingConfigurationListItemProperty"')}function convertCfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyValidator(properties).assertSuccess(),{AgentVersion:cdk().stringToCloudFormation(properties.agentVersion)}):properties}function CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("agentVersion","AgentVersion",properties.AgentVersion!=null?cfn_parse().FromCloudFormation.getString(properties.AgentVersion):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentAliasAgentAliasHistoryEventPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("endDate",cdk().validateString)(properties.endDate)),errors.collect(cdk().propertyValidator("routingConfiguration",cdk().listValidator(CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyValidator))(properties.routingConfiguration)),errors.collect(cdk().propertyValidator("startDate",cdk().validateString)(properties.startDate)),errors.wrap('supplied properties not correct for "AgentAliasHistoryEventProperty"')}function convertCfnAgentAliasAgentAliasHistoryEventPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAliasAgentAliasHistoryEventPropertyValidator(properties).assertSuccess(),{EndDate:cdk().stringToCloudFormation(properties.endDate),RoutingConfiguration:cdk().listMapper(convertCfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyToCloudFormation)(properties.routingConfiguration),StartDate:cdk().stringToCloudFormation(properties.startDate)}):properties}function CfnAgentAliasAgentAliasHistoryEventPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("endDate","EndDate",properties.EndDate!=null?cfn_parse().FromCloudFormation.getString(properties.EndDate):void 0),ret.addPropertyResult("routingConfiguration","RoutingConfiguration",properties.RoutingConfiguration!=null?cfn_parse().FromCloudFormation.getArray(CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyFromCloudFormation)(properties.RoutingConfiguration):void 0),ret.addPropertyResult("startDate","StartDate",properties.StartDate!=null?cfn_parse().FromCloudFormation.getString(properties.StartDate):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnAgentAliasPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("agentAliasName",cdk().requiredValidator)(properties.agentAliasName)),errors.collect(cdk().propertyValidator("agentAliasName",cdk().validateString)(properties.agentAliasName)),errors.collect(cdk().propertyValidator("agentId",cdk().requiredValidator)(properties.agentId)),errors.collect(cdk().propertyValidator("agentId",cdk().validateString)(properties.agentId)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("routingConfiguration",cdk().listValidator(CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyValidator))(properties.routingConfiguration)),errors.collect(cdk().propertyValidator("tags",cdk().hashValidator(cdk().validateString))(properties.tags)),errors.wrap('supplied properties not correct for "CfnAgentAliasProps"')}function convertCfnAgentAliasPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnAgentAliasPropsValidator(properties).assertSuccess(),{AgentAliasName:cdk().stringToCloudFormation(properties.agentAliasName),AgentId:cdk().stringToCloudFormation(properties.agentId),Description:cdk().stringToCloudFormation(properties.description),RoutingConfiguration:cdk().listMapper(convertCfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyToCloudFormation)(properties.routingConfiguration),Tags:cdk().hashMapper(cdk().stringToCloudFormation)(properties.tags)}):properties}function CfnAgentAliasPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("agentAliasName","AgentAliasName",properties.AgentAliasName!=null?cfn_parse().FromCloudFormation.getString(properties.AgentAliasName):void 0),ret.addPropertyResult("agentId","AgentId",properties.AgentId!=null?cfn_parse().FromCloudFormation.getString(properties.AgentId):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("routingConfiguration","RoutingConfiguration",properties.RoutingConfiguration!=null?cfn_parse().FromCloudFormation.getArray(CfnAgentAliasAgentAliasRoutingConfigurationListItemPropertyFromCloudFormation)(properties.RoutingConfiguration):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse().FromCloudFormation.getMap(cfn_parse().FromCloudFormation.getString)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnDataSource extends cdk().CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnDataSourcePropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnDataSource(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnDataSource.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_bedrock_CfnDataSourceProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnDataSource),error}cdk().requireProperty(props,"dataSourceConfiguration",this),cdk().requireProperty(props,"knowledgeBaseId",this),cdk().requireProperty(props,"name",this),this.attrCreatedAt=cdk().Token.asString(this.getAtt("CreatedAt",cdk().ResolutionTypeHint.STRING)),this.attrDataSourceId=cdk().Token.asString(this.getAtt("DataSourceId",cdk().ResolutionTypeHint.STRING)),this.attrDataSourceStatus=cdk().Token.asString(this.getAtt("DataSourceStatus",cdk().ResolutionTypeHint.STRING)),this.attrUpdatedAt=cdk().Token.asString(this.getAtt("UpdatedAt",cdk().ResolutionTypeHint.STRING)),this.dataSourceConfiguration=props.dataSourceConfiguration,this.description=props.description,this.knowledgeBaseId=props.knowledgeBaseId,this.name=props.name,this.serverSideEncryptionConfiguration=props.serverSideEncryptionConfiguration,this.vectorIngestionConfiguration=props.vectorIngestionConfiguration}get cfnProperties(){return{dataSourceConfiguration:this.dataSourceConfiguration,description:this.description,knowledgeBaseId:this.knowledgeBaseId,name:this.name,serverSideEncryptionConfiguration:this.serverSideEncryptionConfiguration,vectorIngestionConfiguration:this.vectorIngestionConfiguration}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnDataSource.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnDataSourcePropsToCloudFormation(props)}}exports.CfnDataSource=CfnDataSource,_c=JSII_RTTI_SYMBOL_1,CfnDataSource[_c]={fqn:"aws-cdk-lib.aws_bedrock.CfnDataSource",version:"2.139.0"},CfnDataSource.CFN_RESOURCE_TYPE_NAME="AWS::Bedrock::DataSource";function CfnDataSourceS3DataSourceConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("bucketArn",cdk().requiredValidator)(properties.bucketArn)),errors.collect(cdk().propertyValidator("bucketArn",cdk().validateString)(properties.bucketArn)),errors.collect(cdk().propertyValidator("inclusionPrefixes",cdk().listValidator(cdk().validateString))(properties.inclusionPrefixes)),errors.wrap('supplied properties not correct for "S3DataSourceConfigurationProperty"')}function convertCfnDataSourceS3DataSourceConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceS3DataSourceConfigurationPropertyValidator(properties).assertSuccess(),{BucketArn:cdk().stringToCloudFormation(properties.bucketArn),InclusionPrefixes:cdk().listMapper(cdk().stringToCloudFormation)(properties.inclusionPrefixes)}):properties}function CfnDataSourceS3DataSourceConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("bucketArn","BucketArn",properties.BucketArn!=null?cfn_parse().FromCloudFormation.getString(properties.BucketArn):void 0),ret.addPropertyResult("inclusionPrefixes","InclusionPrefixes",properties.InclusionPrefixes!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.InclusionPrefixes):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourceDataSourceConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("s3Configuration",cdk().requiredValidator)(properties.s3Configuration)),errors.collect(cdk().propertyValidator("s3Configuration",CfnDataSourceS3DataSourceConfigurationPropertyValidator)(properties.s3Configuration)),errors.collect(cdk().propertyValidator("type",cdk().requiredValidator)(properties.type)),errors.collect(cdk().propertyValidator("type",cdk().validateString)(properties.type)),errors.wrap('supplied properties not correct for "DataSourceConfigurationProperty"')}function convertCfnDataSourceDataSourceConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceDataSourceConfigurationPropertyValidator(properties).assertSuccess(),{S3Configuration:convertCfnDataSourceS3DataSourceConfigurationPropertyToCloudFormation(properties.s3Configuration),Type:cdk().stringToCloudFormation(properties.type)}):properties}function CfnDataSourceDataSourceConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("s3Configuration","S3Configuration",properties.S3Configuration!=null?CfnDataSourceS3DataSourceConfigurationPropertyFromCloudFormation(properties.S3Configuration):void 0),ret.addPropertyResult("type","Type",properties.Type!=null?cfn_parse().FromCloudFormation.getString(properties.Type):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourceServerSideEncryptionConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("kmsKeyArn",cdk().validateString)(properties.kmsKeyArn)),errors.wrap('supplied properties not correct for "ServerSideEncryptionConfigurationProperty"')}function convertCfnDataSourceServerSideEncryptionConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceServerSideEncryptionConfigurationPropertyValidator(properties).assertSuccess(),{KmsKeyArn:cdk().stringToCloudFormation(properties.kmsKeyArn)}):properties}function CfnDataSourceServerSideEncryptionConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("kmsKeyArn","KmsKeyArn",properties.KmsKeyArn!=null?cfn_parse().FromCloudFormation.getString(properties.KmsKeyArn):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourceFixedSizeChunkingConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("maxTokens",cdk().requiredValidator)(properties.maxTokens)),errors.collect(cdk().propertyValidator("maxTokens",cdk().validateNumber)(properties.maxTokens)),errors.collect(cdk().propertyValidator("overlapPercentage",cdk().requiredValidator)(properties.overlapPercentage)),errors.collect(cdk().propertyValidator("overlapPercentage",cdk().validateNumber)(properties.overlapPercentage)),errors.wrap('supplied properties not correct for "FixedSizeChunkingConfigurationProperty"')}function convertCfnDataSourceFixedSizeChunkingConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceFixedSizeChunkingConfigurationPropertyValidator(properties).assertSuccess(),{MaxTokens:cdk().numberToCloudFormation(properties.maxTokens),OverlapPercentage:cdk().numberToCloudFormation(properties.overlapPercentage)}):properties}function CfnDataSourceFixedSizeChunkingConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("maxTokens","MaxTokens",properties.MaxTokens!=null?cfn_parse().FromCloudFormation.getNumber(properties.MaxTokens):void 0),ret.addPropertyResult("overlapPercentage","OverlapPercentage",properties.OverlapPercentage!=null?cfn_parse().FromCloudFormation.getNumber(properties.OverlapPercentage):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourceChunkingConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("chunkingStrategy",cdk().requiredValidator)(properties.chunkingStrategy)),errors.collect(cdk().propertyValidator("chunkingStrategy",cdk().validateString)(properties.chunkingStrategy)),errors.collect(cdk().propertyValidator("fixedSizeChunkingConfiguration",CfnDataSourceFixedSizeChunkingConfigurationPropertyValidator)(properties.fixedSizeChunkingConfiguration)),errors.wrap('supplied properties not correct for "ChunkingConfigurationProperty"')}function convertCfnDataSourceChunkingConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceChunkingConfigurationPropertyValidator(properties).assertSuccess(),{ChunkingStrategy:cdk().stringToCloudFormation(properties.chunkingStrategy),FixedSizeChunkingConfiguration:convertCfnDataSourceFixedSizeChunkingConfigurationPropertyToCloudFormation(properties.fixedSizeChunkingConfiguration)}):properties}function CfnDataSourceChunkingConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("chunkingStrategy","ChunkingStrategy",properties.ChunkingStrategy!=null?cfn_parse().FromCloudFormation.getString(properties.ChunkingStrategy):void 0),ret.addPropertyResult("fixedSizeChunkingConfiguration","FixedSizeChunkingConfiguration",properties.FixedSizeChunkingConfiguration!=null?CfnDataSourceFixedSizeChunkingConfigurationPropertyFromCloudFormation(properties.FixedSizeChunkingConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourceVectorIngestionConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("chunkingConfiguration",CfnDataSourceChunkingConfigurationPropertyValidator)(properties.chunkingConfiguration)),errors.wrap('supplied properties not correct for "VectorIngestionConfigurationProperty"')}function convertCfnDataSourceVectorIngestionConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourceVectorIngestionConfigurationPropertyValidator(properties).assertSuccess(),{ChunkingConfiguration:convertCfnDataSourceChunkingConfigurationPropertyToCloudFormation(properties.chunkingConfiguration)}):properties}function CfnDataSourceVectorIngestionConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("chunkingConfiguration","ChunkingConfiguration",properties.ChunkingConfiguration!=null?CfnDataSourceChunkingConfigurationPropertyFromCloudFormation(properties.ChunkingConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnDataSourcePropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("dataSourceConfiguration",cdk().requiredValidator)(properties.dataSourceConfiguration)),errors.collect(cdk().propertyValidator("dataSourceConfiguration",CfnDataSourceDataSourceConfigurationPropertyValidator)(properties.dataSourceConfiguration)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("knowledgeBaseId",cdk().requiredValidator)(properties.knowledgeBaseId)),errors.collect(cdk().propertyValidator("knowledgeBaseId",cdk().validateString)(properties.knowledgeBaseId)),errors.collect(cdk().propertyValidator("name",cdk().requiredValidator)(properties.name)),errors.collect(cdk().propertyValidator("name",cdk().validateString)(properties.name)),errors.collect(cdk().propertyValidator("serverSideEncryptionConfiguration",CfnDataSourceServerSideEncryptionConfigurationPropertyValidator)(properties.serverSideEncryptionConfiguration)),errors.collect(cdk().propertyValidator("vectorIngestionConfiguration",CfnDataSourceVectorIngestionConfigurationPropertyValidator)(properties.vectorIngestionConfiguration)),errors.wrap('supplied properties not correct for "CfnDataSourceProps"')}function convertCfnDataSourcePropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnDataSourcePropsValidator(properties).assertSuccess(),{DataSourceConfiguration:convertCfnDataSourceDataSourceConfigurationPropertyToCloudFormation(properties.dataSourceConfiguration),Description:cdk().stringToCloudFormation(properties.description),KnowledgeBaseId:cdk().stringToCloudFormation(properties.knowledgeBaseId),Name:cdk().stringToCloudFormation(properties.name),ServerSideEncryptionConfiguration:convertCfnDataSourceServerSideEncryptionConfigurationPropertyToCloudFormation(properties.serverSideEncryptionConfiguration),VectorIngestionConfiguration:convertCfnDataSourceVectorIngestionConfigurationPropertyToCloudFormation(properties.vectorIngestionConfiguration)}):properties}function CfnDataSourcePropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("dataSourceConfiguration","DataSourceConfiguration",properties.DataSourceConfiguration!=null?CfnDataSourceDataSourceConfigurationPropertyFromCloudFormation(properties.DataSourceConfiguration):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("knowledgeBaseId","KnowledgeBaseId",properties.KnowledgeBaseId!=null?cfn_parse().FromCloudFormation.getString(properties.KnowledgeBaseId):void 0),ret.addPropertyResult("name","Name",properties.Name!=null?cfn_parse().FromCloudFormation.getString(properties.Name):void 0),ret.addPropertyResult("serverSideEncryptionConfiguration","ServerSideEncryptionConfiguration",properties.ServerSideEncryptionConfiguration!=null?CfnDataSourceServerSideEncryptionConfigurationPropertyFromCloudFormation(properties.ServerSideEncryptionConfiguration):void 0),ret.addPropertyResult("vectorIngestionConfiguration","VectorIngestionConfiguration",properties.VectorIngestionConfiguration!=null?CfnDataSourceVectorIngestionConfigurationPropertyFromCloudFormation(properties.VectorIngestionConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnKnowledgeBase extends cdk().CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnKnowledgeBasePropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnKnowledgeBase(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnKnowledgeBase.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_bedrock_CfnKnowledgeBaseProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnKnowledgeBase),error}cdk().requireProperty(props,"knowledgeBaseConfiguration",this),cdk().requireProperty(props,"name",this),cdk().requireProperty(props,"roleArn",this),this.attrCreatedAt=cdk().Token.asString(this.getAtt("CreatedAt",cdk().ResolutionTypeHint.STRING)),this.attrFailureReasons=cdk().Token.asList(this.getAtt("FailureReasons",cdk().ResolutionTypeHint.STRING_LIST)),this.attrKnowledgeBaseArn=cdk().Token.asString(this.getAtt("KnowledgeBaseArn",cdk().ResolutionTypeHint.STRING)),this.attrKnowledgeBaseId=cdk().Token.asString(this.getAtt("KnowledgeBaseId",cdk().ResolutionTypeHint.STRING)),this.attrStatus=cdk().Token.asString(this.getAtt("Status",cdk().ResolutionTypeHint.STRING)),this.attrUpdatedAt=cdk().Token.asString(this.getAtt("UpdatedAt",cdk().ResolutionTypeHint.STRING)),this.cdkTagManager=new(cdk()).TagManager(cdk().TagType.MAP,"AWS::Bedrock::KnowledgeBase",void 0,{tagPropertyName:"tags"}),this.description=props.description,this.knowledgeBaseConfiguration=props.knowledgeBaseConfiguration,this.name=props.name,this.roleArn=props.roleArn,this.tags=props.tags}get cfnProperties(){return{tags:this.cdkTagManager.renderTags(this.tags),description:this.description,knowledgeBaseConfiguration:this.knowledgeBaseConfiguration,name:this.name,roleArn:this.roleArn}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnKnowledgeBase.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnKnowledgeBasePropsToCloudFormation(props)}}exports.CfnKnowledgeBase=CfnKnowledgeBase,_d=JSII_RTTI_SYMBOL_1,CfnKnowledgeBase[_d]={fqn:"aws-cdk-lib.aws_bedrock.CfnKnowledgeBase",version:"2.139.0"},CfnKnowledgeBase.CFN_RESOURCE_TYPE_NAME="AWS::Bedrock::KnowledgeBase";function CfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("embeddingModelArn",cdk().requiredValidator)(properties.embeddingModelArn)),errors.collect(cdk().propertyValidator("embeddingModelArn",cdk().validateString)(properties.embeddingModelArn)),errors.wrap('supplied properties not correct for "VectorKnowledgeBaseConfigurationProperty"')}function convertCfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyValidator(properties).assertSuccess(),{EmbeddingModelArn:cdk().stringToCloudFormation(properties.embeddingModelArn)}):properties}function CfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("embeddingModelArn","EmbeddingModelArn",properties.EmbeddingModelArn!=null?cfn_parse().FromCloudFormation.getString(properties.EmbeddingModelArn):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnKnowledgeBaseKnowledgeBaseConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("type",cdk().requiredValidator)(properties.type)),errors.collect(cdk().propertyValidator("type",cdk().validateString)(properties.type)),errors.collect(cdk().propertyValidator("vectorKnowledgeBaseConfiguration",cdk().requiredValidator)(properties.vectorKnowledgeBaseConfiguration)),errors.collect(cdk().propertyValidator("vectorKnowledgeBaseConfiguration",CfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyValidator)(properties.vectorKnowledgeBaseConfiguration)),errors.wrap('supplied properties not correct for "KnowledgeBaseConfigurationProperty"')}function convertCfnKnowledgeBaseKnowledgeBaseConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnKnowledgeBaseKnowledgeBaseConfigurationPropertyValidator(properties).assertSuccess(),{Type:cdk().stringToCloudFormation(properties.type),VectorKnowledgeBaseConfiguration:convertCfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyToCloudFormation(properties.vectorKnowledgeBaseConfiguration)}):properties}function CfnKnowledgeBaseKnowledgeBaseConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("type","Type",properties.Type!=null?cfn_parse().FromCloudFormation.getString(properties.Type):void 0),ret.addPropertyResult("vectorKnowledgeBaseConfiguration","VectorKnowledgeBaseConfiguration",properties.VectorKnowledgeBaseConfiguration!=null?CfnKnowledgeBaseVectorKnowledgeBaseConfigurationPropertyFromCloudFormation(properties.VectorKnowledgeBaseConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnKnowledgeBasePropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("knowledgeBaseConfiguration",cdk().requiredValidator)(properties.knowledgeBaseConfiguration)),errors.collect(cdk().propertyValidator("knowledgeBaseConfiguration",CfnKnowledgeBaseKnowledgeBaseConfigurationPropertyValidator)(properties.knowledgeBaseConfiguration)),errors.collect(cdk().propertyValidator("name",cdk().requiredValidator)(properties.name)),errors.collect(cdk().propertyValidator("name",cdk().validateString)(properties.name)),errors.collect(cdk().propertyValidator("roleArn",cdk().requiredValidator)(properties.roleArn)),errors.collect(cdk().propertyValidator("roleArn",cdk().validateString)(properties.roleArn)),errors.collect(cdk().propertyValidator("tags",cdk().hashValidator(cdk().validateString))(properties.tags)),errors.wrap('supplied properties not correct for "CfnKnowledgeBaseProps"')}function convertCfnKnowledgeBasePropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnKnowledgeBasePropsValidator(properties).assertSuccess(),{Description:cdk().stringToCloudFormation(properties.description),KnowledgeBaseConfiguration:convertCfnKnowledgeBaseKnowledgeBaseConfigurationPropertyToCloudFormation(properties.knowledgeBaseConfiguration),Name:cdk().stringToCloudFormation(properties.name),RoleArn:cdk().stringToCloudFormation(properties.roleArn),Tags:cdk().hashMapper(cdk().stringToCloudFormation)(properties.tags)}):properties}function CfnKnowledgeBasePropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("knowledgeBaseConfiguration","KnowledgeBaseConfiguration",properties.KnowledgeBaseConfiguration!=null?CfnKnowledgeBaseKnowledgeBaseConfigurationPropertyFromCloudFormation(properties.KnowledgeBaseConfiguration):void 0),ret.addPropertyResult("name","Name",properties.Name!=null?cfn_parse().FromCloudFormation.getString(properties.Name):void 0),ret.addPropertyResult("roleArn","RoleArn",properties.RoleArn!=null?cfn_parse().FromCloudFormation.getString(properties.RoleArn):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse().FromCloudFormation.getMap(cfn_parse().FromCloudFormation.getString)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
